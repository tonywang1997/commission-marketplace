<%= form_with(url: root_path, class: 'form-inline d-flex flex-nowrap align-items-stretch w-100', remote: true) do |f| %>
  <div class="d-none d-md-flex align-items-center">
    <%= material_icon.sort %>
    <span class="px-1">Sort:</span>
  </div>

  <!-- MOBILE/SMALL SCREEN -->
  <div class="d-flex d-md-none">
    <button type="button" class="btn btn-secondary d-flex p-2 mr-2" data-toggle="modal" data-target="#sortModal">
      <%= material_icon.sort %>
    </button>
  </div>

  <div class="d-none d-md-flex px-1 btn-group btn-group-toggle">
    <%= f.label :sortByNone, class: "btn btn-secondary #{'active' if @sort == 'none'}" do %>
      <%= radio_button_tag('sort', 'none', checked = (@sort == 'none'), id: 'sortByNone', class: 'submit-form') %>
      None
    <% end %>
    <%= f.label :sortByDate, class: "btn btn-secondary #{'active' if @sort == 'date'}" do %>
      <%= radio_button_tag('sort', 'date', checked = (@sort == 'date'), id: 'sortByDate', class: 'submit-form') %>
      Date
    <% end %>
    <%= f.label :sortByPrice, class: "btn btn-secondary #{'active' if @sort == 'price'}" do %>
      <%= radio_button_tag('sort', 'price', checked = (@sort == 'price'), id: 'sortByPrice', class: 'submit-form') %>
      Price
    <% end %>
  </div>

  <div class="d-none d-md-flex px-1 btn-group btn-group-toggle">
    <%= f.label :sortAsc, class: "btn btn-secondary btn-direction px-1 #{'active' if @dir == 'asc'} #{'disabled' if @sort == 'none'}" do %>
      <%= radio_button_tag('dir', 'asc', checked = (@dir == 'asc'), id: 'sortAsc', class: 'submit-form') %>
      <%= material_icon.arrow_drop_up %>
    <% end %>
    <%= f.label :sortDesc, class: "btn btn-secondary btn-direction px-1 #{'active' if @dir == 'desc'} #{'disabled' if @sort == 'none'}" do %>
      <%= radio_button_tag('dir', 'desc', checked = (@dir == 'desc'), id: 'sortDesc', class: 'submit-form') %>
      <%= material_icon.arrow_drop_down %>
    <% end %>
  </div>

  <div class="pl-1 d-flex align-items-center w-100">
    <%= f.text_field :search, class: 'search-input form-control bg-light text-dark mb-0 pr-5 h-100 w-100', value: params[:search], placeholder: "Search (eg, 'full body sketch $20-30')" %>
    <div class="search-btn">
      <%= f.file_field :files, 
                        multiple: true, 
                        direct_upload: true, 
                        id: 'addImage', 
                        class: 'image-upload' %>
      <%= f.label :addImage, class: 'btn form-control text-dark w-auto mb-0 px-1' do %>
        <%= material_icon.add_a_photo %>
      <% end %>
      <%= button_tag :submit, class: 'btn form-control text-dark w-auto px-1 mr-1' do %>
          <%= material_icon.search %>
      <% end %>
    </div>
  </div>
<% end %>